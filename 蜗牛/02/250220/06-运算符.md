

#### 一、运算符分类

##### 1、运算符概念

编程语言中用于进行运算的一系列**符号**统称为运算符。

##### 2、运算符分类

根据各种运算符的作用不同，我们将其分为以下几类：

- 算术运算符
- 关系运算符
- 赋值运算符
- 逻辑运算符
- 位运算符（进制）
- 指针运算符（指针）
- 成员选择运算符(结构体)

以上前5种就是基础的运算符，我们会在这两节课中讲解，后续的几种我们会在后面讲解对应知识点之后进行补充

##### 3、表达式的概念

表达式是指用**运算符**和**括号**将**操作数**连接起来的符合C语言语法规则的句子称为表达式。如下所示

```c
int a = 1;
int b = 2;
int c = a+b+3;
```

其中每一句都是一个表达式，三句都是赋值相关的表达式，里面的变量和数据就可以算是操作数，+和=都是运算符。

##### 4、运算符优先级大全

![PixPin_2024-04-03_18-38-53](https://woniumd.oss-cn-hangzhou.aliyuncs.com/web/dengnaiwen/20240403183944.png)

#### 二、算术运算符

##### 1、算术运算符大全

| 运算符 | 描述         | 例子    |
| ------ | ------------ | ------- |
| `+`    | 加法         | `a + b` |
| `-`    | 减法         | `a - b` |
| `*`    | 乘法         | `a * b` |
| `/`    | 除法         | `a / b` |
| `%`    | 模（余）运算 | `a % b` |

##### 2、算术运算符详解

（1）+

+号主要用于数字的加法运算，这个就比较简单

```c
int a = 2;
int b = 3;
int c = a+b;
printf("%d\n",c);//5
```

（2）- 

-主要用于数字的减法运算

```c
int a = 2;
int b = 3;
int c = a-b;
```

（3）*

`*`用于进行乘法运算，这个跟中文里的乘号-`x`不一样,且不能混用。

```c
int a = 3;
int b = 2;
printf("%d",a*b);
```

（4）/ 

`/`主要用于进行除法运算。

```c
int a = 5;
int b = 3;
printf("%f",a/b);
```

注意点：

- 如果两边是整数类型，那么如果除不尽则会丢弃小数部分，只保留整数部分，如果想保留小数部分，那么需要两边的数字有一个是浮点数类型
- 除数不能是0，否则会报错

（5）%

`%`用于进行余(或取模)运算，只能是整数能使用。

```c
int a = 3;
int b = 5;
printf("%d",b%a);//2
```

#### 三、赋值运算符

##### 1、赋值运算符大全

c语言提供了一些运算符用于对变量进行赋值（赋予数值）操作。主要有以下几个

- =：定义变量或修改变量的值
- +=：在变量原来的基础之上增加某个数据并将结果重新赋予该变量
- -=：在变量原来的基础之上**减少某个数据**并将结果重新赋予该变量
- /=：在变量原来的基础之上**除以某个数据**并将结果重新赋予该变量
- *=：在变量原来的基础之上**乘以某个数据**并将结果重新赋予该变量
- %=：在变量原来的基础之上和某个数据**进行余运算**并将结果重新赋予该变量
- ++：在变量原来的基础之上**增加1**并将结果重新赋予该变量
- --：在变量原来的基础之上**减少1**并将结果重新赋予该变量

###### ++&--

- ++：该运算符可以跟在变量名前或后，且表现有些区别。
  - `num++`:写在变量名后面。如果参与到表达式中，**先读取该变量当前的值参与表达式运算，之后立即执行++**
  - `++num`:写在变量名前面。如果参与到表达式中，**先立即执行++**，之后读取该**变量当前的值参与表达式运算**

- --

##### 2、赋值运算符详解

（2）=

=号就是标准给变量进行赋值的运算符。是指将=号右边表达式的结果赋给左边的变量。

```c
int a =1;
int b = a+2;// 3
int c = a-b+4;//2
```

以上几个例子都是将**右边表达式的结果计算之后再赋给左边的变量**即=的作用

（3）+=

效果：在原来的基础之上进行加法运算并重新赋值

```c
int a = 1;
a+=3; //在原来的基础之上加3
printf("%d",a);//4
```

`a+=3`即在a原来的旧值基础之上加上3并重新赋值给a

（4）-=

效果：在原来的基础之上进行减法运算并重新赋值

```c
int a = 1;
a-=3; //在原来的基础之上减3
printf("%d",a);//-2
```

（5）/=

效果：在原来的基础之上进行除法运算并重新赋值

```c
int a = 10;
a/=5;
printf("%d",a);//2
```

（6）%=

效果：在原来的基础之上进行余（取模）运算并重新赋值

```c
int a = 10;
a%=6; 
printf("%d",a);//4
```

（7）++&--

效果：++等同于`+=1`，而--等同于`-=1`，++和--可以写在**变量名前或后**。

```c
int a=2,b=3;
a++;//或++a
--b;//或b--
printf("%d,%d",a,b);// 3 2 
```

（8）++和--变量名前后的区别

- 当在变量**后**使用++或--时，如果是单独一句代码，那么就是正常的进行自增和自减操作。但如果是在一个表达式中使用`++或--`，那么就会采取`先读取旧的值来参与表达式计算，再实际执行++或--`
- 当在变量**前**使用++或--，无论是否在单独使用还是在表达式中使用，，那么就是正常的进行自增和自减操作，表达式也是使用++或--执行后的值。

```c
int a = 2,b=3;
printf("%d",a++ + b-- + --b);
printf("%d %d",a,b);
```

定义了变量之后，第一条输出语句中是一个表达式，那么这个时候就要考虑++和--在变量后使用的效果。`a++ + b-- + --b` 是先读取a的值参与表达式的计算之后**立即执行a++**,之后再**继续执行剩余的表达式**，也就是`2 +b-- + --b`，`b--`也是先读取旧的值参与表达式计算，再执行b--语句，之后表达式为`2 +3 +--b`,此时a是3，b是2。 之后就是--b，先执行后读取，所以表达式最终的值就是`2+3 +1`为6，而a和b的值分别为3和1

#### 四、关系运算符

关系运算符是指可以用于比较两个数据大小关系的特殊符号。比较的结果为0或1

##### 1、关系运算符大全

| 运算符 | 描述       | 示例   | 结果 |
| ------ | ---------- | ------ | ---- |
| ==     | 等于       | 5 == 3 | 0    |
| !=     | 不等于     | 5 != 3 | 1    |
| >      | 大于       | 5 > 3  | 1    |
| <      | 小于       | 5 < 3  | 0    |
| >=     | 大于或等于 | 5 >= 5 | 1    |
| <=     | 小于或等于 | 5 <= 3 | 0    |

##### 2、关系运算符详解

（1）== 

- 效果：判断两个数据是否相等。比较`==`左右两个数据是否相等（一般用于数据类型相同数据的比较）

```c
int  a = 1;
int  b = 2;
printf("%d",a==b);//0
```

以下是C语言中其他关系运算符的Markdown格式文档：

（2）!=

- 效果：判断两个数据是否不等

```c
int a = 1;
int b = 2;
printf("%d", a != b); // 1
```

（3）>

- 效果：判断左侧数据是否大于右侧数据

```c
int a = 3;
int b = 2;
printf("%d", a > b); // 1
```

（4）<

- 效果：判断左侧数据是否小于右侧数据

```c
int a = 1;
int b = 2;
printf("%d", a < b); // 1
```

（5）>=

- 效果：判断左侧数据是否大于或等于右侧数据

```c
int a = 2;
int b = 2;
printf("%d", a >= b); // 1
```

（6）<=

- 效果：判断左侧数据是否小于或等于右侧数据

```c
int a = 1;
int b = 2;
printf("%d", a <= b); // 1
```

#### 五、逻辑运算符

逻辑运算符是指可以同时判断多个条件为真还是错误的运算符

##### 1、逻辑运算符大全

| 运算符 | 描述                                                      | 示例                  |
| ------ | --------------------------------------------------------- | --------------------- |
| `&&`   | 逻辑与：当两个表达式都非零时，结果为真（1）               | `表达式1 && 表达式2`  |
| `||`   | 逻辑或：当至少一个表达式非零时，结果为真（1）             | ` 表达式1 || 表达式2` |
| `!`    | 逻辑非：当表达式为非零时，结果为假（0），反之亦然。即取反 | `!表达式1`            |

##### 2、逻辑运算符详解

（1）&&  (短路与)

效果：称为and符号或`与`符号，表示需要同时满足`&&`左右两个条件，才能最终得到1（true），否则就得到0（false）

```c

#include <stdio.h>
 
int main(int argc, char *argv[]) {
	int a = 100;
	int b = 10;
	// & 与运算规则：所有条件为真，整个表达式才为真。
	// | 或运算规则：有一个条件为真，整个表达式就为真。
	
	// && : 当表达式中有一个false, 则后面的表达式不运算
	// || : 当表达式中有一个true, 则后面的表达式不运算
	
	if(++b > 10 || ++a >100 ){
		printf("--条件满足--\n");
	}else {
		printf("=====条件不满足！=====\n");
	}

	printf("a: %d, b:%d \n", a, b);

    return 0;
}


```

工作流程：当使用`&&`符号时，程序会先判断`&&`左边的表达式是否为1，为1才会继续判断右边的表达式，否则直接输出0。如果左边为1，那么就判断右边表达式是否为1，是就输出1，否则输出0

（2）||  ( 短路或)

效果：称为or符号或`或`符号，表示只需满足`||`左右两个表达式中的任意一个，就能最终得到1，否则就得到0

```c
int a = 2; 
int b = 3; 
printf("%d",a>2 || b<=3);//1  第二个条件满足
```

工作流程：当使用`||`符号时，程序会先判断`||`左边的表达式是否为1，为1则不再继续判断右边的表达式，直接输出1。如果左边不为1，那么就判断右边表达式是否为1，是就输出1，否则输出0

（3）!

效果：称为not符号或`非`符号，用于取反操作，如果条件为真（非零），则结果为假（0）；如果条件为假（0），则结果为真（1） 

```c
int a = 0; 
printf("%d",!a);//1  条件为假，取反为真
int b = 10;
printf("%d",!b);//0
float c = 3.2;
double d = -2.3;
printf("%d %d",!c,!d);//0 0

bool isRun = 0;
while(!isRun){
    
}
```

工作流程：当使用`!`符号时，它会直接对其右侧的单个条件的布尔值进行取反。如果条件的计算结果为真（即1），`!`操作会将其转换为假（0）。如果条件为假（即值为0），`!`操作会将其转换为真



#### 六、位运算符

##### 1、位运算符简介

| 运算符           | 描述                                                         |
| ---------------- | ------------------------------------------------------------ |
| 按位与( x & y )  | 如果两个操作数的相应位均为 1，则该位的结果值为 1             |
| 按位或( x \| y ) | 如果两个操作数的相应位有一个为 1，则该位的结果值为 1         |
| 按位取反( ~x )   | 将操作数按位取反（0 到 1 和 1 到 0）                         |
| 按位异或( x^y )  | 如果参加运算的两个操作数的相应位同号，则结果为 0，异号则为 1 |
| 左移( x<<2 )     | 左端（高位）移出部分舍弃，右端（低位）补0                    |
| 右移( x>>2 )     | 右端（低位）移出部分舍弃，左端（高位）根据符号位补0或者1，无符号或正数补0，负数补1 |

**注意：**

① 位运算符中除～以外，均为二元运算符，即要求两侧各有一个运算量。

② 运算量只能是整型或字符型的数据，不能为浮点型数据。

③ 位运算符将数字视为二进制值，并按位进行相应运算，运算完成后再重新转换为数字

④ **计算机以补码的形式来表示二进制，注意负数**



##### 2、按位与(&)

& 的运算规则：如果两个位置相对应的二进制位都为１，则该位的结果值为１；否则为０。

**示例：**计算	３＆５	和	-3 & -5			

![img](https://gitee.com/ciyeer/picgo-image/raw/master/202202220904606.jpg)				![img](https://gitee.com/ciyeer/picgo-image/raw/master/202202220858388.jpg)

**注意：**如果参加&运算的是负数（如-3&-5），然后再按位进行“与”运算。

按位与的使用：

​		对一个存储单元清零，与进行0与运算。

​		取一个数中某些指定位：如：取int a = 4321的低8位值，a & FF

应用：**可以代替x%2==0 ,因为是否是偶数取决于最后一位，而用二进制表示的话如果是偶数，那么二进制最后一位一定是0，所以可以用`&1`的方式获取二进制最后一位，**

```c
1. 12 &1
   0000 1100
   0000 0001
   0000 0000
   0
2. 13 &1
   0000 1101
   0000 0001
   1
```



##### 3、按位或(|)

**|**   的运算规则：两个相应的二进制位中只要有一个为１，该位的结果值为１

**示例：**

​		unsigned char x= 027, y = 075； unsigned char z = x | y; 求z的值

**结果:**

​		z = 077

```c
12 | 4
0000 1100
0000 0100
0000 1100
=12
```



##### 4、按位异或(^)

**^**   的运算规则：若参加运算的两个二进制位同号则结果为０（假）异号则结果为１（真）

**相异为1，相同为0**

示例：10 ^ 15

结果1010 ^ 1111 = 0101 = 5

```c
10 ^15
0000 1010
0000 1111
0000 0101
=5
```



**结论：**

​		一个数 异或  本身恒等于0，如**0**^0 = 0；**1**^1 = 0

​		一个数 异或0 恒等于本身，如：**0**^0 = 0；**1**^0 = 1

​		一个数 每位异或1等于取反：  如：**0**^1 = 1；**1**^1 = 0

**实例：**

​		**不用临时变量，交换两个值**

![image-20240222174859465](https://woniumd.oss-cn-hangzhou.aliyuncs.com/aiot/ruishaojun/image-20240222174859465.png) 

**分析：**

![image-20240222175234965](https://woniumd.oss-cn-hangzhou.aliyuncs.com/aiot/ruishaojun/image-20240222175234965.png)



##### 5、按位取反(~)

~ 的运算规则：1-->0  0-->1（若是1则变成0，若是0则变成1）,连带符号位也要参与运算

示例：~10

结果~1010 = 0101 = 5

```c
1. ~12
0000 1100
1111 0011
1000 1101 -13
2. ~-4
1111 1100
0000 0011
```

- 示例代码：

``` c
#include <stdio.h>
#include <stdbool.h>
 
int main(int argc, char *argv[]) {
	int a = 3;              // 0011
	// 00000000 00000000 00000000 00001011
	// 11111111 11111111 11111111 11110100
	int b = 11;             // 1011
	
	// & 运算：  1,1 为 1
	printf("&运算的结果：%d \n", a & b);
	
	// | 运算：  有1 为 1
	printf("|运算的结果：%d \n", a | b);

	// ^ 运算：  相同为0，不同为1
	printf("^运算的结果：%d \n", a ^ b);

	// ~ 运算：
	printf("~运算的结果：%d \n", ~b);


    return 0;
}
```



##### 6、移位运算符

[1]左移运算符（<<）

左移运算符是用来将一个数的各二进制位**全部左移若干位**。 高位左移后溢出舍弃，右边低位补0。

**使用方法：**表达式1 << 表达式2。如a<<3。变量a对应数据的二进制所有位左移3位

**结论：**当某个整数左移时被溢出舍弃的高位中不包含１时。左移一位相当于乘2；

**例如**：a<<2  将ａ的二进制数左移２位，右补０。若ａ＝15，即二进制数００００１１１１，左移２位得００１１１１００，(十进制数６０)　0010  0100 1000

左移１位相当于该数乘以２，左移２位相当于该数乘以4, 15<<2=60，即乘了４。但此结论只适用于该数左移时被溢出舍弃的高位中不包含１的情况。

假设以一个字节（８位）存一个整数，若ａ为无符号整型变量，则ａ＝64时，左移一位时溢出的是０，而左移２位时，溢出的高位中包含１。0000 0000

```c
1111 1110 -2(补)
1111 1000 
```



[2]右移运算符（>>）

右移运算符是将一个数的各二进制位全部右移若干位，移到右端的低位被舍弃,对无符号数,高位补0，带符号的以符号位填充，正数，高位补0，负数补1。

对于有符号的值,如果原来符号位为0(该数为正),则左边也是移入0。如果符号位原来为1(即负数),则左边移入0还是1,要取决于所用的计算机系统。有的系统移入0,有的系统移入1。移入0的称为“逻辑右移”,即简单右移；移入1的称为**算术右移**。

```c
20 >>2
0001 0100 
0000 0101
0000 0000
-40>>2
1101 1000
1111 0110 >>2
1111 1101  >>4 
1111 1110 >> 5
1111 1111 >>60
1000 0001
```

总结：**面对接近临界点数据，左移可能会导致负数变正数，正变负（参考int临界值，比如21亿3千万），常规数字使用左移就是乘以2效果。右移移动一定位，可能导致正数为0，负数为-1，正常数字右移一位则等于除以2，无论正负**



（3）无符号右移





